import{r as n,R as e,j as V,c as U}from"./iconBase-3b7d111a.js";import{L as J}from"./index-ac0909fd.js";import{u as Q,g as G}from"./formik.esm-ac5c4b53.js";const I=["blue","orange","yellow","red","purple","amber","lime","green","emerald","teal","cyan","sky","violet","indigo","purple","fuchsia","pink","rose"],v="blue",x={bg:{blue:"bg-blue-500",orange:"bg-orange-500",yellow:"bg-yellow-500",red:"bg-red-500",purple:"bg-purple-500",amber:"bg-amber-500",lime:"bg-lime-500",green:"bg-green-500",emerald:"bg-emerald-500",teal:"bg-teal-500",cyan:"bg-cyan-500",sky:"bg-sky-500",indigo:"bg-indigo-500",violet:"bg-violet-500",fuchsia:"bg-fuchsia-500",pink:"bg-pink-500",rose:"bg-rose-500"},bgHover:{blue:"hover:bg-blue-100",orange:"hover:bg-orange-100",yellow:"hover:bg-yellow-100",red:"hover:bg-red-100",purple:"hover:bg-purple-100",amber:"hover:bg-amber-100",lime:"hover:bg-lime-100",green:"hover:bg-green-100",emerald:"hover:bg-emerald-100",teal:"hover:bg-teal-100",cyan:"hover:bg-cyan-100",sky:"hover:bg-sky-100",indigo:"hover:bg-indigo-100",violet:"hover:bg-violet-100",fuchsia:"hover:bg-fuchsia-100",pink:"hover:bg-pink-100",rose:"hover:bg-rose-100"},ring:{blue:"focus:ring-blue-500/20",orange:"focus:ring-orange-500/20",yellow:"focus:ring-yellow-500/20",red:"focus:ring-red-500/20",purple:"focus:ring-purple-500/20",amber:"focus:ring-amber-500/20",lime:"focus:ring-lime-500/20",green:"focus:ring-green-500/20",emerald:"focus:ring-emerald-500/20",teal:"focus:ring-teal-500/20",cyan:"focus:ring-cyan-500/20",sky:"focus:ring-sky-500/20",indigo:"focus:ring-indigo-500/20",violet:"focus:ring-violet-500/20",fuchsia:"focus:ring-fuchsia-500/20",pink:"focus:ring-pink-500/20",rose:"focus:ring-rose-500/20"},borderFocus:{blue:"focus:border-blue-500",orange:"focus:border-orange-500",yellow:"focus:border-yellow-500",red:"focus:border-red-500",purple:"focus:border-purple-500",amber:"focus:border-amber-500",lime:"focus:border-lime-500",green:"focus:border-green-500",emerald:"focus:border-emerald-500",teal:"focus:border-teal-500",cyan:"focus:border-cyan-500",sky:"focus:border-sky-500",indigo:"focus:border-indigo-500",violet:"focus:border-violet-500",fuchsia:"focus:border-fuchsia-500",pink:"focus:border-pink-500",rose:"focus:border-rose-500"},text:{blue:"text-blue-500",orange:"text-orange-500",yellow:"text-yellow-500",red:"text-red-500",purple:"text-purple-500",amber:"text-amber-500",lime:"text-lime-500",green:"text-green-500",emerald:"text-emerald-500",teal:"text-teal-500",cyan:"text-cyan-500",sky:"text-sky-500",indigo:"text-indigo-500",violet:"text-violet-500",fuchsia:"text-fuchsia-500",pink:"text-pink-500",rose:"text-rose-500"},textHover:{blue:"hover:text-blue-500",orange:"hover:text-orange-500",yellow:"hover:text-yellow-500",red:"hover:text-red-500",purple:"hover:text-purple-500",amber:"hover:text-amber-500",lime:"hover:text-lime-500",green:"hover:text-green-500",emerald:"hover:text-emerald-500",teal:"hover:text-teal-500",cyan:"hover:text-cyan-500",sky:"hover:text-sky-500",indigo:"hover:text-indigo-500",violet:"hover:text-violet-500",fuchsia:"hover:text-fuchsia-500",pink:"hover:text-pink-500",rose:"hover:text-rose-500"}};function X(r,t){n.exports.useEffect(()=>{const o=l=>{!r.current||r.current.contains(l.target)||t(l)};return document.addEventListener("mousedown",o),document.addEventListener("touchstart",o),()=>{document.removeEventListener("mousedown",o),document.removeEventListener("touchstart",o)}},[r,t])}const j=({className:r=""})=>e.createElement("svg",{className:r,fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})),Y=({className:r=""})=>e.createElement("svg",{className:r,fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})),Z=({className:r=""})=>e.createElement("svg",{className:r,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})),O=n.exports.createContext({value:null,handleValueChange:r=>{console.log("selected:",r)},formatGroupLabel:null,formatOptionLabel:null,classNames:void 0}),z=()=>n.exports.useContext(O),D=({value:r,handleValueChange:t,otherData:o,children:l})=>{const u=n.exports.useMemo(()=>({value:r,handleValueChange:t,formatGroupLabel:o&&typeof o.formatGroupLabel=="function"?o.formatGroupLabel:null,formatOptionLabel:o&&typeof o.formatOptionLabel=="function"?o.formatOptionLabel:null,classNames:(o==null?void 0:o.classNames)||void 0}),[t,o,r]);return e.createElement(O.Provider,{value:u},l)},P=({children:r})=>{const{classNames:t}=n.exports.useContext(O);return e.createElement("div",{className:t&&t.listDisabledItem?t.listDisabledItem:"px-2 py-2 cursor-not-allowed truncate text-gray-400 select-none"},r)},W=({item:r,primaryColor:t})=>{const{classNames:o,value:l,handleValueChange:u,formatOptionLabel:g}=z(),b=n.exports.useMemo(()=>l!==null&&!Array.isArray(l)&&l.value===r.value,[r.value,l]),y=n.exports.useMemo(()=>I.includes(t)?x.textHover[t]:x.textHover[v],[t]),i=n.exports.useMemo(()=>I.includes(t)?x.bg[t]:x.bg[v],[t]),h=n.exports.useMemo(()=>I.includes(t)?x.bgHover[t]:x.bgHover[v],[t]),d=n.exports.useCallback(()=>{const p="block transition duration-200 px-2 py-2 cursor-pointer select-none truncate rounded",s=b?`text-white ${i}`:`text-gray-500 ${h} ${y}`;return o&&o.listItem?o.listItem({isSelected:b}):`${p} ${s}`},[i,h,o,b,y]);return e.createElement(e.Fragment,null,g?e.createElement("div",{onClick:()=>u(r)},g({...r,isSelected:b})):e.createElement(e.Fragment,null,r.disabled?e.createElement(P,null,r.label):e.createElement("li",{"aria-selected":b,role:"option",onClick:()=>u(r),className:d()},r.label)))},ee=({item:r,primaryColor:t})=>{const{classNames:o,formatGroupLabel:l}=z();return e.createElement(e.Fragment,null,r.options.length>0&&e.createElement(e.Fragment,null,l?e.createElement(e.Fragment,null,l(r)):e.createElement("div",{className:o&&o.listGroupLabel?o.listGroupLabel:"pr-2 py-2 cursor-default select-none truncate font-bold text-gray-700"},r.label),r.options.map((u,g)=>e.createElement(W,{primaryColor:t,key:g,item:u}))))},te=({list:r,noOptionsMessage:t,text:o,isMultiple:l,value:u,primaryColor:g=v})=>{const{classNames:b}=n.exports.useContext(O),y=n.exports.useCallback(()=>{const d=s=>s.label.toLowerCase().indexOf(o.toLowerCase())>-1;let p=r.map(s=>"options"in s?{label:s.label,options:s.options.filter(d)}:s);return p=p.filter(s=>"options"in s?s.options.length>0:d(s)),p},[o,r]),i=n.exports.useCallback(d=>{if(!l)return d;if(Array.isArray(u)){const p=u.map(f=>f.value),s=f=>!p.includes(f.value);let k=d.map(f=>"options"in f?{label:f.label,options:f.options.filter(s)}:f);return k=k.filter(f=>"options"in f?f.options.length>0:s(f)),k}return d},[l,u]),h=n.exports.useMemo(()=>i(y()),[y,i]);return e.createElement("div",{role:"options",className:b&&b.list?b.list:"max-h-72 overflow-y-auto overflow-y-scroll"},h.map((d,p)=>e.createElement(e.Fragment,{key:p},"options"in d?e.createElement(e.Fragment,null,e.createElement("div",{className:"px-2.5"},e.createElement(ee,{primaryColor:g||v,item:d})),p+1<h.length&&e.createElement("hr",{className:"my-1"})):e.createElement("div",{className:"px-2.5"},e.createElement(W,{primaryColor:g||v,item:d})))),h.length===0&&e.createElement(P,null,t))},re=({placeholder:r="",value:t="",onChange:o,name:l=""})=>{const{classNames:u}=n.exports.useContext(O);return e.createElement("div",{className:u&&u.searchContainer?u.searchContainer:"relative py-1 px-2.5"},e.createElement(Z,{className:u&&u.searchIcon?u.searchIcon:"absolute w-5 h-5 mt-2.5 pb-0.5 ml-2 text-gray-500"}),e.createElement("input",{className:u&&u.searchBox?u.searchBox:"w-full py-2 pl-8 text-sm text-gray-500 bg-gray-100 border border-gray-200 rounded focus:border-gray-200 focus:ring-0 focus:outline-none",type:"text",placeholder:r,value:t,onChange:o,name:l}))},oe=({primaryColor:r=v})=>{const t=n.exports.useMemo(()=>I.includes(r)?x.text[r]:x.text[v],[r]);return e.createElement("svg",{className:`animate-spin mr-0.5 h-5 w-5 ${t}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"}))},ne=({options:r=[],value:t=null,onChange:o,placeholder:l="Select...",searchInputPlaceholder:u="Search...",isMultiple:g=!1,isClearable:b=!1,isSearchable:y=!1,isDisabled:i=!1,loading:h=!1,menuIsOpen:d=!1,noOptionsMessage:p="No options found",primaryColor:s=v,formatGroupLabel:k=null,formatOptionLabel:f=null,classNames:a})=>{const[E,L]=n.exports.useState(d),[N,$]=n.exports.useState(r),[A,H]=n.exports.useState(""),B=n.exports.useRef(null);n.exports.useEffect(()=>{const c=m=>"disabled"in m?m:{...m,disabled:!1};$(r.map(m=>"options"in m?{label:m.label,options:m.options.map(c)}:c(m)))},[r]);const S=n.exports.useCallback(()=>{i||L(!E)},[i,E]),C=n.exports.useCallback(()=>{E&&L(!1)},[E]);X(B,()=>{C()});const R=n.exports.useCallback(c=>{c.preventDefault(),(c.code==="Enter"||c.code==="Space")&&!i&&S()},[i,S]),w=n.exports.useCallback(c=>{function m(){!g&&!Array.isArray(t)&&(C(),o(c)),g&&(Array.isArray(t)||t===null)&&o(t===null?[c]:[...t,c])}c!==t&&m()},[C,g,o,t]),M=n.exports.useCallback(c=>{c.stopPropagation(),o(null)},[o]),_=n.exports.useCallback((c,m)=>{if(g&&Array.isArray(t)&&t.length){c.stopPropagation();const F=t.filter(T=>m.value!==T.value);o(F.length?F:null)}},[g,o,t]),q=n.exports.useCallback(()=>{let c=x.ring[v];I.includes(s)&&(c=x.ring[s]);let m=x.borderFocus[v];I.includes(s)&&(m=x.borderFocus[s]);const T=`flex text-sm text-gray-500 border border-gray-300 rounded shadow-sm transition-all duration-300 focus:outline-none ${i?"bg-gray-200":`bg-white hover:border-gray-400 ${m} focus:ring ${c}`}`;return a&&a.menuButton?a.menuButton({isDisabled:i}):T},[a,i,s]),K=n.exports.useCallback(()=>{const c="bg-gray-200 border rounded-sm flex space-x-1",m=i?"border-gray-500 px-1":"pl-1";return a&&a.tagItem?a.tagItem({isDisabled:i}):`${c} ${m}`},[a,i]);return e.createElement(D,{otherData:{formatGroupLabel:k,formatOptionLabel:f,classNames:a},value:t,handleValueChange:w},e.createElement("div",{className:"relative w-full",ref:B},e.createElement("div",{tabIndex:0,"aria-expanded":E,onKeyDown:R,onClick:S,className:q()},e.createElement("div",{className:"grow pl-2.5 py-2 pr-2 flex flex-wrap gap-1"},g?e.createElement(e.Fragment,null,t===null&&l,Array.isArray(t)&&t.map((c,m)=>e.createElement("div",{className:K(),key:m},e.createElement("p",{className:a&&a.tagItemText?a.tagItemText:"text-gray-600 truncate cursor-default select-none"},c.label),!i&&e.createElement("div",{onClick:F=>_(F,c),className:a&&a.tagItemIconContainer?a.tagItemIconContainer:"flex items-center px-1 cursor-pointer rounded-r-sm hover:bg-red-200 hover:text-red-600"},e.createElement(j,{className:a&&a.tagItemIcon?a.tagItemIcon:"w-3 h-3 mt-0.5"}))))):e.createElement("p",{className:"truncate cursor-default select-none"},t&&!Array.isArray(t)?t.label:l)),e.createElement("div",{className:"flex flex-none items-center py-1.5"},h&&e.createElement("div",{className:"px-1.5"},e.createElement(oe,{primaryColor:s})),b&&!i&&t!==null&&e.createElement("div",{className:"px-1.5 cursor-pointer",onClick:M},e.createElement(j,{className:a&&a.closeIcon?a.closeIcon:"w-5 h-5 p-0.5"})),e.createElement("div",{className:"h-full"},e.createElement("span",{className:"w-px h-full inline-block text-white bg-gray-300 text-opacity-0"})),e.createElement("div",{className:"px-1.5"},e.createElement(Y,{className:`transition duration-300 w-6 h-6 p-0.5${E?" transform rotate-90 text-gray-500":" text-gray-300"}`})))),E&&!i&&e.createElement("div",{tabIndex:-1,className:a&&a.menu?a.menu:"absolute z-10 w-full bg-white shadow-lg border rounded py-1 mt-1.5 text-sm text-gray-700"},y&&e.createElement(re,{value:A,placeholder:u,onChange:c=>H(c.target.value)}),e.createElement(te,{list:N,noOptionsMessage:p,text:A,isMultiple:g,value:t,primaryColor:s||v}))))},le=r=>{const{label:t,className:o,name:l,classNameLabel:u,disabled:g,placeholder:b,required:y,showError:i,showSuccess:h,forceErrorMessage:d,options:p,multiple:s,onChange:k}=r,{errors:f,touched:a,values:E,setFieldValue:L}=Q(),N=G(E,l),$=G(f,l),A=G(a,l),H=$&&A&&i||Boolean(d),B=!$&&A&&h&&!H;function S(w){if(k){L(l,k(w,N));return}Array.isArray(w)||L(l,w.value)}const C=N,R=s?p.filter(w=>C==null?void 0:C.some(M=>M===w.value)):p.find(w=>w.value===N);return V.exports.jsxs("div",{className:U("form-group",H?"form-group-error":null,B?"form-group-success":null,o),children:[V.exports.jsx(J,{htmlFor:l,required:y,className:u,children:t}),V.exports.jsx(ne,{isClearable:!1,isMultiple:s,isDisabled:g,placeholder:b,primaryColor:null,value:R,onChange:S,options:p})]})};le.defaultProps={options:[]};export{le as S};
