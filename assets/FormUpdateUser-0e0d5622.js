import{j as e}from"./iconBase-3b7d111a.js";import{I as t,B as f}from"./index-ac0909fd.js";import{S as m}from"./index-398deebc.js";import{A as h}from"./index-01e57b3f.js";import{R as j}from"./index-39e354ab.js";import{u as b}from"./index-a4924570.js";import{u as g}from"./useTimeOutMessage-d962b019.js";import{F as v,a as N}from"./formik.esm-ac5c4b53.js";import{Q as y}from"./react-toastify.esm-9ef0ae5c.js";import{V as p}from"./config-bb52a63e.js";import{v as U}from"./validationSchemaUserDto-9dd65add.js";import"./index.esm-b0814b9a.js";import"./index-e8a8613b.js";import"./motion-3fe2d343.js";import"./create-visual-element-6082da53.js";import"./object-be89183a.js";const C=n=>{const{user:s,onSuccess:i}=n,c={isActive:s.isActive,phone:s.phone,lastName:s.lastName,email:s.email,firstName:s.firstName,roles:s.roles},[l,d]=g(5e3),u=async a=>{var o;try{(o=a.password)!=null&&o.trim()||delete a.password;const r=await b.updateUser(s.iduser,a);y.success("User updated successfully."),i&&i(r.data)}catch(r){console.log(r),d(r.response.data.message||"Error creating user")}};return e.exports.jsx(v,{initialValues:c,onSubmit:u,validationSchema:U,children:e.exports.jsxs(N,{children:[e.exports.jsx(j,{isTrue:l,children:e.exports.jsx(h,{type:"danger",className:"mb-6",children:l})}),e.exports.jsxs("div",{className:"grid lg:grid-cols-2 lg:gap-4",children:[e.exports.jsx(t,{label:"First Name",name:"firstName",placeholder:"Type a first name",required:!0}),e.exports.jsx(t,{label:"Last Name",name:"lastName",placeholder:"Type a last name",required:!0})]}),e.exports.jsx(t,{label:"Email",name:"email",placeholder:"Type a emaill",required:!0}),e.exports.jsx(t,{label:"Phone",name:"phone",placeholder:"Type a phone number"}),e.exports.jsx(t,{type:"password",label:"Password",name:"password",placeholder:"Type a secure password"}),e.exports.jsx(m,{name:"isActive",options:[{value:!0,label:"Active"},{value:!1,label:"Inactive"}]}),e.exports.jsx(m,{multiple:!0,name:"roles",options:[{value:p.ADMIN,label:"Admin"},{value:p.USER,label:"User"}],onChange:(a,o)=>{if(!a)return o;const r=[...a];return r.length===2&&r.shift(),r.map(x=>x.value)}}),e.exports.jsx(f,{full:!0,className:"btn-primary btn-sm",children:"Update User"})]})})};export{C as default};
