import{j as e}from"./iconBase-3b7d111a.js";import{I as i,B as j}from"./index-ac0909fd.js";import{v as y,U as P,T as b,S as F,G as k,a as v,C as q,c as S,f as T}from"./validationSchemaFormProduct-de56b044.js";import{p as m}from"./index-59c680b6.js";import{F as w,a as C}from"./formik.esm-ac5c4b53.js";import{Q as l}from"./react-toastify.esm-9ef0ae5c.js";import"./index-39e354ab.js";import"./config-bb52a63e.js";import"./index-398deebc.js";import"./capitalize-1790f93b.js";import"./DataTable-aa997715.js";import"./index.esm-047accf7.js";import"./index-e8a8613b.js";import"./index.esm-b0814b9a.js";import"./object-be89183a.js";const M=n=>{const{onSuccess:o,categories:s}=n,u={tags:[],title:"",images:[],sizes:["L"],stock:0,gender:"men",description:"",price:0,category:s[0].idcategory};async function x(g){const{images:c,...a}={...g};let t;a.category=s.find(r=>r.idcategory===a.category);try{t=(await m.createProduct(a)).data}catch(r){console.log(r),l.error(r.response.data.message||"Error creating product");return}try{if(c.length>0){const f=(await S(c)).map(async p=>{const d=new FormData;return d.append("file",p,p.name),(await T.uploadFileProduct(d)).data.secureUrl}),h=await Promise.all(f);t=(await m.updateProduct(t.id,{images:h})).data}o==null||o(t),l.success("Product created successfully")}catch{}}return e.exports.jsx(w,{initialValues:u,onSubmit:x,validationSchema:y,children:e.exports.jsxs(C,{children:[e.exports.jsxs("div",{className:"grid lg:grid-cols-2 gap-4 lg:gap-8",children:[e.exports.jsxs("div",{children:[e.exports.jsx(i,{label:"Name",name:"title",required:!0,placeholder:"Type the name of the product"}),e.exports.jsx(i,{type:"number",label:"Price",name:"price",required:!0,placeholder:"Type the price of the product"}),e.exports.jsx(i,{type:"number",label:"Stock",name:"stock",required:!0,placeholder:"Type the stock of the product",decimalValues:!1}),e.exports.jsx(P,{})]}),e.exports.jsxs("div",{children:[e.exports.jsx(b,{name:"description",placeholder:"Type a description of the product",label:"Description"}),e.exports.jsx(F,{defaultOpen:!0}),e.exports.jsx(k,{}),e.exports.jsx(v,{}),e.exports.jsx(q,{categories:s})]})]}),e.exports.jsx(j,{className:"btn btn-primary btn-sm mt-6",full:!0,children:"Create Product"})]})})};export{M as default};
